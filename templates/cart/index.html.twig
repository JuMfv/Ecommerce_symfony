{% extends 'base.html.twig' %}

{% block title %}Hello CartController!{% endblock %}

{% block body %}
<main class="page-wrapper">
   {% if cart|length > 0 %}
   <div class="">
     <div class="container position-relative zindex-2 pt-5 pb-lg-5 pb-md-4 pb-2">
           <div class="row">
               <div class="col-lg-12 offset-lg-1 pt-1">
                   <h2 class "pt-md-2 my-4 mt-lg-5">Mon panier</h2>
                   <p>Ajouter d'autres produits disponibles sur le site <a href="{{ path('app_product_index') }}">Voir les produits</a></p>
                    {% set total = null %}

                   {% for product in cart %}
                      {% set total = total + (product.product.price * product.quantite) %}

                       <a class="d-inline-block flex-shrink-e bg-secondary rounded-1 p-sm-2 p-xl-3 mb-2 mb-sm-0" > 
                                  <img src="{{ asset('/uploads/'~ product.product.image) }}" style="max-width: 150px;" />

                       
                                   <h3>  {{ product.product.name}} </h3>
                                   <P>{{ product.product.price}} € </p>
                                   


                               
                               <div class="text-end ms-auto">
                                   <div class="fs-S mb-2">{{ (total / 100)|number_format(2,',',',') }} €</div>
                    
                                </div>

                                
                                    <a  href=" {{ path('cart_remove', {id: product.product.id}) }} "  class="btn btn-danger">
                                        Supprimer
                                    </a>
                                                                          I
                                    
                                
                                 
                           
                    
                    {% endfor %}
                </div>
            </div>
        </div>


        {% else %}
    <div class="container d-flex flex-column justify-content-center min-vh-180 ру-5">
           <div class="text-center pt-4 mt-lg-2">
               <h1 class-"display-5">votre panier est vide</h1>
               <P class="fs-lg pb-2 pb-md-e mb-4 mb-md-5">Commencez votre shopping dès maintenant à travers nos articles</p>
               <a class="btn btn-lg btn-primary" href=" {{ path( 'app_product_index') }}" >Voir les produits</a>
           </div>
    </div>
 


    {% endif %}

</main>
<div class="card" style="width: 18rem;">
  <img src="..." class="card-img-top" alt="...">
  <div class="card-body">
    <h5 class="card-title"> </h5>
    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
    <a href="#" class="btn btn-outline-primary">Voir Detail</a>
    <a href="#" class="btn btn-outline-primary">Ajouter au panier </a>
  </div>
</div>

{% endblock %}

